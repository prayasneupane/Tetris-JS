<DOCTYPE html>
    <head>
    <style>
        img
        {
            height:100px;
            width:100px;
        }
    </style>
    </head>
    <body>
        
<script>
var img = document.createElement("IMG");
img.setAttribute("src","red.png");
document.body.appendChild(img);
fade(img);
function fade(element) {
    this.el=element;
    
    var that=this;
    var op = 1;  // initial opacity
    var timer = setInterval(function () {
        if (op <= 0.1){
            clearInterval(timer);
            that.el.style.display = 'none';
        }
        console.log(that.el);
        that.el.style.opacity = op;
        that.el.style.filter = 'alpha(opacity=' + op * 100 + ")";
        op -= op * 0.1;
    }, 50);
}
</script>
<body>
</html>
var k=0;
        var temp = that.line.reduce(function(a,b)  //remove duplicate row no.
                {
                    if (a.indexOf(b) < 0 ) a.push(b);
                    return a;
                },[]);
                
        while(k<temp.length)
        {
            
            var op = 1;  // initial opacity
            var timer = setInterval(function ()
            {
                for(var i=0;i<hwidth;i++)
                {   
                    
                    imgno=formula.imagenumber(i,temp[k]);
                    //document.images[imgno].src="images/blue.png";

                    //debugger;
                    if (op <= 0.1){
                        clearInterval(timer);
                        document.images[imgno].style.display = 'none';
                    }
                    
                    document.images[imgno].style.opacity = op;
                    document.images[imgno].style.filter = 'alpha(opacity=' + op * 100 + ")";
                    op -= op * 0.1;
                }
            }, 100);
            
            k++;
        
        }